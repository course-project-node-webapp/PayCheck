extends ../shared/_layout

block content
  #projects-wrapper
    if !result.data.length
      h2 No projects found.
    else
      h2 My projects
      each pr in result.data
        if pr.privacy === 'public' && result.user.username === pr.owner
          div.well.text-center
            h3 Project name: 
            span #{pr.name}
            h3 Required skills: 
            span #{pr.devSkills}
            h3 Project description: 
            span #{pr.description}
            if pr.applyers.length
              h3.full Appliers:
              ul
                each aplyer in pr.applyers
                  a(href='/users/search?search='+aplyer) #{aplyer}
                  form(method='POST' action="/projects/employees/"+pr.name)
                    input(type='hidden' name='employee' value= aplyer)
                    button.btn.btn-success(type='submit') Assign to employees
            else
              h3.green No appliers
            if pr.employees.length
              h3.full Employees:
              ul
                each employee in pr.employees
                  li.form-control
                    a(href='/users/search?search='+employee.employeeName) #{employee.employeeName}
            else
              h3.green No employees

  style(type="text/css").
    #projects-wrapper {
      min-height: 60vh;
      text-align: center;
      margin: 5vh 0;
    }

    #projects-wrapper span {
      font-size: 2rem;
    }

    h3.green {
      color: lightgreen
    }

    h3.full {
      color: green
    }

    span {
      color: grey
    }
