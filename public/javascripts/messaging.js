"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function e(e){return e<10&&(e="0"+e),e}var t=$(".chat-status span"),s=$(".chat-textarea"),n=$("ul.messages"),a=$(".full-name"),o=$("ul.users"),r=t.text(),c=function e(s){t.text(s),s!==r&&!function(){var t=setTimeout(function(){e(r),clearInterval(t)},3e3)}()},u=io.connect();u.emit("new-user",a.text()),u.on("output",function(t){if(t.length)for(var s=0;s<t.length;s++){var a=$("<li/>",{class:"chat-message"}),o=new Date(t[s].dateCreated),r=e(o.getHours()),c=e(o.getMinutes()),u=e(o.getSeconds());o=r+":"+c+":"+u;var l=$('<span class="message-time">['+o+"]: </span>"),i=$('<span class="message-author capitalize">'+t[s].name+"</span>"),p=$('<span class="message">'+t[s].message+"</span>");a.append(l).append(i).append(p),n.append(a),$(".chat-messages").scrollTop($(".chat-messages")[0].scrollHeight)}}),u.on("status",function(e){c("object"===("undefined"==typeof e?"undefined":_typeof(e))?e.message:e),e.clear===!0&&s.val("")}),u.on("online-users",function(e){for(var t=void 0,s=$("<li/>",{class:"online-users"}),n=e.length,a=0;a<n;a++)t=$("<a href='/users/'>"+e[a]+"</a>"),s.append(t);o.append(s)}),s.on("keydown",function(e){var t=this,s=a.text();13===e.which&&e.shiftKey===!1&&(u.emit("input",{name:s,message:t.value,dateCreated:Date.now()}),$(".chat-messages").scrollTop($(".chat-messages")[0].scrollHeight),e.preventDefault())})}();